<%

  const extensions = ['.html', '.js'];
  const files = renderer.fileList(`src/includes/examples/${name}`)
    .filter(f => !f.startsWith('_'))
    .sort((a, b) => {
      const [nameA, extensionA] = a.split('.');
      const [nameB, extensionB] = b.split('.');

      const isExampleA = extensionA === 'ejs';
      const isExampleB = extensionB === 'ejs';

      if (isExampleA) return -1;
      if (isExampleB) return 1;

      if (nameA > nameB) return 1;
      if (nameA < nameB) return -1;

      for (let i = 0; i < extensions.length ; i += 1) {
        const extension = extensions[i];

        const aMatches = extensionA === extension;
        const bMatches = extensionB === extension;

        if (aMatches && !bMatches)
          return -1;
        else if (!aMatches && bMatches)
          return 1;
      }

      return 0;
    });
%>

<div
  v-component
  v-data:tab="<%= files[0] %>"
  class="example"
>
  <div class="flex items-center space-x-2">
    <% files.forEach((file, idx) => { %>
      <%
        const tabClass = idx === 0 ?
          'bg-white' :
          'bg-gray-200 text-gray-600';
      %>

      <button
        v-event:click="tab = '<%= file %>'"
        v-class:bg-white="tab === '<%= file %>'"
        v-class:bg-gray-200="tab !== '<%= file %>'"
        v-class:hover:bg-indigo-100="tab !== '<%= file %>'"
        v-class:hover:border-indigo-100="tab !== '<%= file %>'"
        v-class:text-gray-600="tab !== '<%= file %>'"
        class="px-6 py-2 border-l-2 border-t-2 border-r-2 border-gray-200 rounded-t <%= tabClass %>"
      >
        <%= file === 'example.ejs' ? 'Example' : file %>
      </button>
    <% }); %>
  </div>
  <div
    class="border-2 border-gray-200 rounded p-2"
    style="margin-top: -2px;"
  >
    <% files.forEach((file, idx) => { %>
      <div
        v-if="tab === '<%= file %>'"
        <%= idx > 0 ? 'hidden' : null %>
      >
        <% if (file.endsWith('.js')) { %>

```js
<%- include(`/examples/${name}/${file}`) %>
```

        <% } else if (file.endsWith('.html')) { %>

```html
<%- include(`/examples/${name}/${file}`) %>
```

        <% } else { %>
          <%- include(`/examples/${name}/${file}`) %>
        <% } %>

      </div>
    <% }); %>
  </div>
</div>